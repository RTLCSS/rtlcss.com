!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(a){"use strict";function h(t,i){this.$element=t,this.options=a.extend({},h.DEFAULTS,this.$element.data(),i),this.enabled=!0,this.startClientY=0,this.$element.on(h.CORE.wheelEventName+h.NAMESPACE,this.options.selector,a.proxy(h.CORE.handler,this)),this.options.touch&&(this.$element.on("touchstart"+h.NAMESPACE,this.options.selector,a.proxy(h.CORE.touchHandler,this)),this.$element.on("touchmove"+h.NAMESPACE,this.options.selector,a.proxy(h.CORE.handler,this))),this.options.scrollbar.enabled&&(this.$element.addClass(this.options.scrollbar.css.container),this.$rail=a('<div class="'+this.options.scrollbar.css.rail+'">').appendTo(this.$element),this.$handle=a('<div class="'+this.options.scrollbar.css.handle+'">').appendTo(this.$rail),requestAnimationFrame(a.proxy(h.CORE.scrollbarInit,this)))}h.NAME="ScrollLock",h.VERSION="2.2.0",h.ANIMATION_NAMESPACE=(h.NAMESPACE=".scrollLock")+".effect",h.DEFAULTS={strict:!1,strictFn:function(t){return t.prop("scrollHeight")>t.prop("clientHeight")},selector:!1,animation:!1,touch:"ontouchstart"in window,scrollbar:{enabled:!1,css:{container:"scrollLock-container",rail:"scrollLock-rail",handle:"scrollLock-handle"}}},h.CORE={wheelEventName:"onmousewheel"in window?"ActiveXObject"in window?"wheel":"mousewheel":"DOMMouseScroll",animationEventName:["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend"].join(h.ANIMATION_NAMESPACE+" ")+h.ANIMATION_NAMESPACE,scrollbarInit:function(){var t=$this.prop("scrollHeight"),i=$this.prop("clientHeight");this.clientHeight===i&&this.scrollHeight===t||(this.clientHeight=i,this.scrollHeight=t,this.$rail.css("height",i),this.sliderHeight=Math.ceil(i/t*i),this.$slider.css("height",this.sliderHeight)),requestAnimationFrame(a.proxy(h.CORE.scrollbarInit,this))},handler:function(t){var i,e,o,n,s,l,r;this.enabled&&!t.ctrlKey&&(i=a(t.currentTarget),!0===this.options.strict&&!this.options.strictFn(i)||(t.stopPropagation(),e=i.scrollTop(),o=i.prop("scrollHeight"),n=i.prop("clientHeight"),s=t.originalEvent.wheelDelta||-1*t.originalEvent.detail||-1*t.originalEvent.deltaY,l=0,"wheel"===t.type?(r=i.height()/a(window).height(),l=t.originalEvent.deltaY*r):this.options.touch&&"touchmove"===t.type&&(s=t.originalEvent.changedTouches[0].clientY-this.startClientY),(r=0<s&&e+l<=0)||s<0&&o-n<=e+l?(t.preventDefault(),l&&i.scrollTop(e+l),r=r?"top":"bottom",this.options.animation&&setTimeout(h.CORE.animationHandler.bind(this,i,r),0),i.trigger(a.Event(r+h.NAMESPACE))):(t.preventDefault(),i.scrollTop(e=e-s+(l||0)),i.$rail.css("top",e),i.$handle.css("top",e/(o-n)*(n-this.sliderHeight)))))},touchHandler:function(t){this.startClientY=t.originalEvent.touches[0].clientY},animationHandler:function(t,i){var e=this.options.animation[i],i=this.options.animation.top+" "+this.options.animation.bottom;t.off(h.ANIMATION_NAMESPACE).removeClass(i).addClass(e).one(h.CORE.animationEventName,function(){t.removeClass(e)})}},h.prototype.toggleStrict=function(){this.options.strict=!this.options.strict},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.destroy=function(){this.disable(),this.$element.off(h.NAMESPACE),this.$element=null,this.options=null};var t=a.fn.scrollLock;a.fn.scrollLock=function(o){return this.each(function(){var t=a(this),i="object"==typeof o&&o,e=t.data(h.NAME);!e&&"destroy"===o||(e||t.data(h.NAME,e=new h(t,i)),"string"!=typeof o)||e[o]()})},a.fn.scrollLock.defaults=h.DEFAULTS,a.fn.scrollLock.noConflict=function(){return a.fn.scrollLock=t,this}});