alertify.defaults.closableByDimmer=!1,alertify.defaults.transition="zoom",alertify.defaults.padding=!1,alertify.defaults.glossary.title="rtlcss",alertify.defaults.glossary.ok="Save",alertify.defaults.glossary.cancel="Discard";var LOCALSTROAGE_ENABLED,OPTIONS,SETTINGS,OPTIONS_DEFAULTS={autoRename:!($.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e}),autoRenameStrict:!1,blacklist:{},clean:!0,greedy:!1,processUrls:{atrule:!1,decl:!1},stringMap:[{name:"left-right",priority:100,search:["left","Left","LEFT"],replace:["right","Right","RIGHT"],options:{scope:"*",ignoreCase:!1}},{name:"ltr-rtl",priority:100,search:["ltr","Ltr","LTR"],replace:["rtl","Rtl","RTL"],options:{scope:"*",ignoreCase:!1}}]},SETTINGS_DEFAULTS={autoRun:!0,beautifySettings:{eol:"\\n",indent_char:" ",indent_size:2,indent_with_tabs:!1,selector_separator_newline:!0,newline_between_rules:!0,end_with_newline:!1}};function resolveValue(e,t){var a=null;if(e){var n=t.split("."),a=e;if(0<n.length)for(var o=0;o<n.length;o++)a=a&&a[n[o]];else a=a[t]}return a}function saveValue(e,t,a){for(var n=e,o=t.split("."),e=o.pop(),i=0;i<o.length;i++)n=n&&n[o[i]];n[e]=a}function load(e,n){$("."+e+"-content").find("input[name]").each(function(){var e=$(this),t=e.prop("name"),a=resolveValue(n,t);switch(e.prop("type")){case"checkbox":e.prop("checked",a);break;case"radio":e.prop("checked",e.val()==""+a);break;default:e.val(a)}})}function save(e,n){$("."+e+"-content").find("input[name]").each(function(){var e=$(this),t=e.prop("name"),a=e.val();switch("bool"===e.data("type")&&(a="true"==a),e.prop("type")){case"checkbox":saveValue(n,t,e.prop("checked"));break;case"radio":e.prop("checked")&&saveValue(n,t,a);break;case"number":saveValue(n,t,+a);break;default:saveValue(n,t,a)}}),LOCALSTROAGE_ENABLED&&localStorage.setItem(e,JSON.stringify(n))}$(function(){var e="rtlcss";try{localStorage.setItem(e,e),localStorage.removeItem(e),LOCALSTROAGE_ENABLED=!0,OPTIONS=JSON.parse(localStorage.getItem("options"))||OPTIONS_DEFAULTS,SETTINGS=JSON.parse(localStorage.getItem("settings"))||SETTINGS_DEFAULTS}catch(e){LOCALSTROAGE_ENABLED=!1,OPTIONS=OPTIONS_DEFAULTS,SETTINGS=SETTINGS_DEFAULTS}load("settings",SETTINGS),load("options",OPTIONS);var m=$(".monaco-input"),S=$(".monaco-output"),g=$(".monaco-diff"),y=$(".fa-spin"),v={language:"css",theme:"vs-dark",scrollBeyondLastLine:!1,scrollbar:{useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,vertical:"visible",horizontal:"visible",verticalScrollbarSize:10,horizontalScrollbarSize:10,arrowSize:30}};require.config({paths:{vs:"https://cdn.rtlcss.com/assets/monaco-editor/min/vs"}}),window.MonacoEnvironment={getWorkerUrl:function(e,t){return"monaco-editor-worker-loader-proxy.js"}},require(["vs/editor/editor.main","vs/languages/lib/common/beautify-html"],function(){var e,a=monaco.editor.create(m[0],v),n=monaco.editor.create(S[0],$.extend(v,{readOnly:!0})),t=monaco.editor.createDiffEditor(g[0],$.extend(v,{renderSideBySide:!1,theme:"vs-dark"}));function o(){SETTINGS.autoRun&&(f(!0),clearTimeout(e),e=setTimeout(r,500))}g.css("display","none"),a.setValue(["/*rtl:options:{",'    "aliases": {','        "--example-padding": "padding"',"    }","}*/",":root {","  --example-padding: 1em 2em .5em 1em;","}",".example {","   direction:ltr;","   margin: 0;","   padding: var(--example-padding);","   background-color: #353639;",'   font-family: "Droid Sans", sans-serif/*rtl:prepend:"Droid Arabic Kufi",*/;',"   font-size:16px/*rtl:14px*/;","}"].join("\n")),a.onDidChangeModelContent(o);var i=0,s=$("#carbon")[0];function r(){i++;var t,e=a.getValue();try{t=rtlcss.process(e,OPTIONS)}catch(e){t="/*"+e+"*/"}n.setValue(t),10<=i&&(i=0,s.contentWindow.location.reload()),f(!1)}r(),$(window).resize(function(){a.layout(),n.layout(),t.layout()}),require(["vs/languages/lib/common/beautify-css"],function(o){monaco.languages.registerDocumentFormattingEditProvider("css",{provideDocumentFormattingEdits:function(e,t,a){var n=$E.getModel();return[{range:n.getFullModelRange(),text:o.css_beautify(n.getValue(),SETTINGS.beautifySettings)}]}}),$(".action.beautify").click(function(){a.getAction("editor.action.format").run()}).css("display","");var e=$(".loading").addClass("hide");setTimeout(function(){e.remove()},500)}),$(".options-content").find("input[name]").on("change",function(){save("options",OPTIONS),o()}),$(".action.settings").click(function(){load("settings",SETTINGS),alertify.confirm("Settings",$(".settings-content")[0],function(){var e=$(this.elements.body).find("form");if(!e[0].checkValidity())return e.find(":submit").click(),!1;save("settings",SETTINGS),u.css("display",SETTINGS.autoRun?"none":""),LOCALSTROAGE_ENABLED||alertify.warning("Please allow local storage to be able to remember your preferences!",15)},null).set("reverseButtons",!0)});var l=$(".action.compare"),c=$(".action.close").css("display","none"),d=$(".action.copy"),u=$(".action.run"),p=(u.click(function(){r()}),u.css("display",SETTINGS.autoRun?"none":""),new Clipboard(d[0],{text:function(e){return n.getValue()}}));function f(e){y.css("visibility",e?"visible":"hidden")}p.on("success",function(e){alertify.success("Copied!",5).dismissOthers()}),p.on("error",function(e){alertify.error("Copy failed.",5)}),l.click(function(){f(!0);var e=n.getValue();t.setModel({original:monaco.editor.createModel(a.getValue(),"css"),modified:monaco.editor.createModel(e,"css")}),g.css("display",""),S.css("display","none"),t.layout(),c.css("display",""),l.css("display","none"),d.css("display","none"),f(!1)}),c.click(function(){c.css("display","none"),l.css("display",""),d.css("display",""),S.css("display",""),g.css("display","none")}),window.$E=a,window.$O=n})});